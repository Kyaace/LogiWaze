roads="roads.sqlite"; ogr2ogr "$roads" ./Mapped/Unified.geojson -f SQLite -dsco SPATIALITE=YES -nln roads && ogr2ogr "$roads" ./hexes.geojson -f SQLite -dsco SPATIALITE=YES -nln hexes -append 
update [roads] set geometry = ATM_Transform(ATM_Transform(geometry, ATM_CreateScale(128.0 / 20037508.3427892439067364, 128.0 / 20037508.3427892439067364)), ATM_CreateTranslate(128.0, -128.0)); 

update [roads] set [tier] = 2-((cast([tier] as integer)-1)%3)+1;\" | spatialite \"$roads\" && rm -rf Roads.geojson && ogr2ogr Roads.geojson \"$roads\" -f GeoJSON -nlt LINESTRING -explodecollections -lco COORDINATE_PRECISION=3 roads && rm \"$roads\" && webpack --config webpack.config.js --mode production -o FoxholeRouter.js . && sed -i \"s/src=\\\"FoxholeRouter.js[^\\\"]*\\\"/src=\\\"FoxholeRouter.js?$(md5sum FoxholeRouter.js | cut -d \" \" -f1)\\\"/g\" index.html && sed -i \"s/\\\"ServiceWorker.js[^\\\"]*\\\"/\\\"ServiceWorker.js?$(md5sum ServiceWorker.js | cut -d \" \" -f1)\\\"/g\" index.html
